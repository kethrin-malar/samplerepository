package com.insurance.demo.service.impl;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.insurance.demo.entity.DriverEntity;
import com.insurance.demo.entity.PolicyEntity;
import com.insurance.demo.model.Driver;
import com.insurance.demo.repository.DashboardRepository;
import com.insurance.demo.service.DashboardService;

@Service
public class DashboardServiceImpl implements DashboardService{

	@Autowired
	private DashboardRepository dashboardRepository;
	
	@Override
	public Driver getDriverById(long driverId) {
		DriverEntity driverEntity = dashboardRepository.findById(driverId).get();
        return mapDriverEntityToModel(driverEntity);
	}
	
private Driver mapDriverEntityToModel(DriverEntity driverEntity) {
	Driver driver = new Driver();
    if (driverEntity != null) {
    	driver.setId(driverEntity.getId());
    	driver.setPolicy_id(driverEntity.getPolicyEntity().getPolicy_id());
        driver.setFirst_Name(driverEntity.getFirst_Name());
        driver.setLast_Name(driverEntity.getLast_Name());
        driver.setDate_Of_Birth(driverEntity.getDate_Of_Birth());
        driver.setPhone_Number(driverEntity.getPhone_Number());
        driver.setLicense_Issued_Date(driverEntity.getLicense_Issued_Date());
        driver.setLicense_Issued_State(driverEntity.getLicense_Issued_State());
        driver.setLicense_Number(driverEntity.getLicense_Number());
        driver.setCreated_Date(driverEntity.getCreated_Date());
            }
    return driver;
}
}